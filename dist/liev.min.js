var liev=function(e){"use strict";const t=e=>"string"==typeof e,n=e=>"function"==typeof e,s=e=>e instanceof HTMLElement,c=(e,t)=>void 0===e?!t.toString().includes(".preventDefault()"):e;let o=!1;try{const e=Object.defineProperty({},"passive",{get(){o=!0}});window.addEventListener("testPassive",null,e),window.removeEventListener("testPassive",null,e)}catch(e){}const r=new WeakMap,l=(e,o,l,{once:a,element:i=document.documentElement,passive:u}={})=>{if(!(t(e)&&t(o)&&n(l)&&s(i)))return console.warn("couldn't detach listener."),!1;const d=c(u,l),v=r.get(i);if(!v)return!1;const f=v[e];if(!f)return!1;const m=f[d];if(!m)return!1;const p=m.findIndex(e=>e.selector===o&&e.callback===l&&e.once===a);return-1!==p&&(1===m.length?(i.removeEventListener(e,m.handler,{passive:d}),delete f[d],!0):(m.splice(p,1),!0))},a=(e,t,n)=>{const s=((e,t,n)=>s=>{r.get(e)[t][n].forEach(({selector:c,callback:r,once:a})=>{const i=c?s.target.closest(c):s.target;i&&(!n||o&&!s.defaultPrevented||(s.preventDefault=()=>{}),r(i,s),a&&l(t,c,r,{once:a,element:e,passive:n}))})})(e,t,n);r.get(e)[t][n].handler=s,e.addEventListener(t,s,{passive:n})};return e.emit=(e,n=document.documentElement,c)=>!(!s(n)||!t(e))&&(n.dispatchEvent(new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:c})),!0),e.off=l,e.on=(e,o,l,{once:i,element:u=document.documentElement,passive:d}={})=>{if(!(t(e)&&t(o)&&n(l)&&s(u)))return console.warn("couldn't attach listener."),!1;const v=c(d,l),f={selector:o,callback:l,...i&&{once:i}},m=r.get(u);if(!m)return r.set(u,{[e]:{[v]:[f]}}),a(u,e,v),!0;const p=m[e];if(!p)return m[e]={[v]:[f]},a(u,e,v),!0;const E=p[v];return E?(E.push(f),!0):(p[v]=[f],a(u,e,v),!0)},Object.defineProperty(e,"__esModule",{value:!0}),e}({});
