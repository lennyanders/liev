var liev=function(e){"use strict";function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function r(e){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?n(Object(o),!0).forEach((function(n){t(e,n,o[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var o=function(e){return"string"==typeof e},c=function(e){return"function"==typeof e},i=function(e){return e instanceof HTMLElement},u=new WeakMap,l=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=r.once,a=r.element,f=void 0===a?document.documentElement:a;if(!(o(e)&&o(t)&&c(n)&&i(f)))return console.warn("couldn't detach listener."),!1;var s=u.get(f);if(!s)return!1;var v=s[e];if(!v)return!1;var d=v.findIndex((function(e){return e.selector===t&&e.callback===n&&e.once===l}));return-1!==d&&(1===v.length?(f.removeEventListener(e,v.handler),delete s[e],!0):(v.splice(d,1),!0))},a=function(e,t){var n=function(e,t){return function(n){u.get(e)[t].forEach((function(r){var o=r.selector,c=r.callback,i=r.once,u=o?n.target.closest(o):n.target;u&&(c(u,n),i&&l(t,o,c,{once:i,element:e}))}))}}(e,t);u.get(e)[t].handler=n,e.addEventListener(t,n)};return e.emit=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.documentElement,n=arguments.length>2?arguments[2]:void 0;return!(!i(t)||!o(e))&&(t.dispatchEvent(new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n})),!0)},e.off=l,e.on=function(e,n,l){var f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=f.once,v=f.element,d=void 0===v?document.documentElement:v;if(!(o(e)&&o(n)&&c(l)&&i(d)))return console.warn("couldn't attach listener."),!1;var b=r({selector:n,callback:l},s&&{once:s}),p=u.get(d);if(!p)return u.set(d,t({},e,[b])),a(d,e),!0;var g=p[e];return g?(g.push(b),!0):(p[e]=[b],a(d,e),!0)},e}({});
